<h2>Current Macros</h2>
<br>

<% if @macro.errors.any? %>
  <div id="error_explanation">
    <h3><%= pluralize(@macro.errors.count, "error") %> prevented this macro from being updated:</h3>
    <ul>
      <% @macro.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @macro, url: macro_path(@macro), method: :patch, local: true do |f| %>
  <div>
    <%= f.label :calories %>
    <%= f.number_field :calories, step: 0.01 %>
  </div>

  <div>
    <%= f.label :protein %>
    <%= f.number_field :protein, step: 0.01 %>
  </div>

  <div>
    <%= f.label :carbohydrates %>
    <%= f.number_field :carbohydrates, step: 0.01 %>
  </div>

  <div>
    <%= f.label :fats %>
    <%= f.number_field :fats, step: 0.01 %>
  </div>
  <br>
  <div>
    <%= f.submit "Update Macro" %>
  </div>

  <%= link_to "Delete Macro", macro_path(@macro), data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this macro?" }, class: "delete-button" %>
  <br>
  <%= link_to "Back", macros_path(logged_date: @macro.logged_date.to_date) %>
<% end %>
